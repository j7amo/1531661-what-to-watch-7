(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{48:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(17),s=r.n(c),i=r(0);var l=function(){return Object(i.jsx)("div",{className:"visually-hidden",children:Object(i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-testid":"symbols",children:[Object(i.jsxs)("symbol",{id:"add",viewBox:"0 0 19 20",children:[Object(i.jsx)("title",{children:"+"}),Object(i.jsx)("desc",{children:"Created with Sketch."}),Object(i.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(i.jsx)("polygon",{id:"+",fill:"#EEE5B5",points:"10.777832 11.2880859 10.777832 19.5527344 8.41650391 19.5527344 8.41650391 11.2880859 0.627929688 11.2880859 0.627929688 8.92675781 8.41650391 8.92675781 8.41650391 0.662109375 10.777832 0.662109375 10.777832 8.92675781 18.5664062 8.92675781 18.5664062 11.2880859"})})]}),Object(i.jsxs)("symbol",{id:"full-screen",viewBox:"0 0 27 27",children:[Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8571 0H16V3.14286H23.8571V11H27V3.14286V0H23.8571Z",fill:"#FFF9D9",fillOpacity:"0.7"}),Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 23.8571V16H23.8571V23.8571H16V27H23.8571H27L27 23.8571Z",fill:"#FFF9D9",fillOpacity:"0.7"}),Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3.14286L0 11H3.14286L3.14286 3.14286L11 3.14286V0H3.14286H0L0 3.14286Z",fill:"#FFF9D9",fillOpacity:"0.7"}),Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.14286 27H11V23.8571H3.14286L3.14286 16H0L0 23.8571V27H3.14286Z",fill:"#FFF9D9",fillOpacity:"0.7"})]}),Object(i.jsx)("symbol",{id:"in-list",viewBox:"0 0 18 14",children:Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.40513 5.35353L6.1818 8.90902L15.5807 0L18 2.80485L6.18935 14L0 8.17346L2.40513 5.35353Z",fill:"#EEE5B5"})}),Object(i.jsxs)("symbol",{id:"pause",viewBox:"0 0 14 21",children:[Object(i.jsx)("symbol",{id:"play-s",viewBox:"0 0 19 19",children:Object(i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0L19 9.5L0 19V0Z",fill:"#EEE5B5"})}),Object(i.jsx)("title",{children:"Artboard"}),Object(i.jsx)("desc",{children:"Created with Sketch."}),Object(i.jsxs)("g",{id:"Artboard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("polygon",{id:"Line",fill:"#EEE5B5",fillRule:"nonzero",points:"0 -1.11910481e-13 4 -1.11910481e-13 4 21 0 21"}),Object(i.jsx)("polygon",{id:"Line",fill:"#EEE5B5",fillRule:"nonzero",points:"10 -1.11910481e-13 14 -1.11910481e-13 14 21 10 21"})]})]})]})})},o=r(6);var u=function(){return Object(i.jsx)("div",{className:"logo",children:Object(i.jsxs)(o.a,{to:"/",className:"logo__link","data-testid":"site-logo-link",children:[Object(i.jsx)("span",{className:"logo__letter logo__letter--1",children:"W"}),Object(i.jsx)("span",{className:"logo__letter logo__letter--2",children:"T"}),Object(i.jsx)("span",{className:"logo__letter logo__letter--3",children:"W"})]})})},d=r(4),j="/login",m="/",b="/myList",v="/films",f="/films/:id",h="/films/:id/review",O="/player/:id",x="Bad",g="Normal",_="Good",p="Very good",N="Awesome",y=0,w=3,M=3,k=5,S=5,R=8,q=8,C=10,F=10,E=10,L="All genres",P=3600,D=1,B=0,I="idle",T="loading",H="succeeded",z="failed",V="AUTH",W="NO_AUTH",G="UNKNOWN",A="/films",U="/promo",Z="/favorite",J="/comments",K="/login",X="/logout",Y="There was a problem while adding your review. Please check if you specified the rating and your comment has correct length (minimum 50 symbols and 400 symbols maximum)",Q="There was a problem while signing in. Please check if your password is correct: it cannot be empty or consist only of space characters.",$=r(2),ee="filters/currentGenreSet",te="data/moviesDataFetchBegan",re="data/moviesDataSet",ae="data/moviesDataErrorSet",ne="data/favoriteMoviesDataFetchBegan",ce="data/favoriteMoviesDataSet",se="data/favoriteMoviesDataErrorSet",ie="data/favoriteMovieStatusPostBegan",le="data/favoriteMovieStatusPostDataSet",oe="data/favoriteMovieStatusPostErrorSet",ue="data/promoMovieDataFetchBegan",de="data/promoMovieDataSet",je="data/promoMovieDataErrorSet",me="data/currentMovieDataFetchBegan",be="data/currentMovieDataSet",ve="data/currentMovieErrorSet",fe="data/currentMovieErrorCleared",he="data/commentPostBegan",Oe="data/commentPostDataSet",xe="data/commentPostErrorSet",ge="data/commentPostErrorCleared",_e="user/authorizationStatusSet",pe="user/redirectedToRoute";function Ne(e){return{type:_e,payload:e}}function ye(e){return{type:pe,payload:e}}var we=function(e){var t=Object($.a)(Object($.a)({},e),{},{backgroundColor:e.background_color,backgroundImage:e.background_image,isFavorite:e.is_favorite,posterImage:e.poster_image,previewImage:e.preview_image,previewVideoLink:e.preview_video_link,runTime:e.run_time,scoresCount:e.scores_count,videoLink:e.video_link});return delete t.background_color,delete t.background_image,delete t.is_favorite,delete t.poster_image,delete t.preview_image,delete t.preview_video_link,delete t.run_time,delete t.scores_count,delete t.video_link,t},Me=function(){return function(e,t,r){return e({type:ne}),r.get(Z).then((function(t){var r,a=t.data;return e((r=a.map((function(e){return we(e)})),{type:ce,payload:r}))})).catch((function(t){return e({type:se,payload:t})}))}},ke=function(e,t){return function(r,a,n){return r({type:ie}),n.post("".concat(Z,"/").concat(e,"/").concat(t)).then((function(e){var t,a=e.data;return r((t=we(a),{type:le,payload:t}))})).catch((function(e){return r({type:oe,payload:e})}))}},Se=function(e){return function(t,r,a){return t({type:me}),Promise.all([a.get("".concat(A,"/").concat(e)).then((function(e){return e.data})),a.get("".concat(A,"/").concat(e,"/similar")).then((function(e){return e.data})),a.get("".concat(J,"/").concat(e)).then((function(e){return e.data}))]).then((function(e){return t(function(e){return{type:be,payload:e}}(e))})).catch((function(e){return t((r=e.message,{type:ve,payload:r}));var r}))}},Re=function(e){var t=e.id,r=e.rating,a=e.comment;return function(e,n,c){return e({type:he}),c.post("".concat(J,"/").concat(t),{rating:r,comment:a}).then((function(t){var r=t.data;return e(function(e){return{type:Oe,payload:e}}(r))})).then((function(){return e(ye("".concat(v,"/").concat(t)))})).catch((function(t){return e(function(e){return{type:xe,payload:e}}(t))}))}},qe=r(20),Ce=r(21),Fe=function(e){return e.filters.currentGenre},Ee=function(e){return e.promoMovie.requestResult},Le=function(e){return e.promoMovie.promoMovie.id},Pe=function(e){return e.promoMovie.promoMovie.name},De=function(e){return e.promoMovie.promoMovie.genre},Be=function(e){return e.promoMovie.promoMovie.released},Ie=function(e){return e.promoMovie.promoMovie.backgroundImage},Te=function(e){return e.promoMovie.promoMovie.posterImage},He=function(e){return e.movies.movies},ze=function(e){return e.movies.requestStatus},Ve=Object(Ce.a)([He,Fe],(function(e,t){return e.filter((function(e){return t===L||e.genre===t}))})),We=Object(Ce.a)([He],(function(e){return[L].concat(Object(qe.a)(Array.from(new Set(e.map((function(e){return e.genre})))).slice(0,9)))})),Ge=function(e,t){return e.movies.movies.find((function(e){return e.id===t}))},Ae=function(e){return e.currentMovie.currentMovie},Ue=function(e){return e.currentMovie.currentMovie.id},Ze=function(e){return e.currentMovie.currentMovieRequestStatus},Je=function(e){return e.currentMovie.currentMovieRequestResult},Ke=function(e){return e.currentMovie.commentPostError},Xe=Object(Ce.a)([function(e){return e.currentMovie.currentSimilarMovies},Ue],(function(e,t){return e.filter((function(e){return e.id!==t})).slice(0,4)})),Ye=function(e){return e.currentMovie.currentComments},Qe=function(e){return e.currentMovie.commentPostRequestStatus},$e=function(e){return e.authorizationStatus.status},et=function(e){return e.favoriteMovies.favoriteMovies},tt=function(e){return e.favoriteMovies.requestResult},rt=function(e,t){return!!e.favoriteMovies.favoriteMovies.find((function(e){return e.id===t}))};var at=Object(d.b)((function(e){return{authorizationStatus:$e(e)}}),(function(e){return{onSignOutClick:function(){e((function(e,t,r){return r.delete(X).then((function(){return localStorage.removeItem("token")})).then((function(){return e(Ne(W))})).then((function(){return e(ye(m))}))}))}}}))((function(e){var t=e.authorizationStatus,r=e.onSignOutClick,n=Object(a.useCallback)((function(e){e.preventDefault(),r()}),[]);return t!==V?Object(i.jsxs)("ul",{className:"user-block",children:[Object(i.jsx)("li",{className:"user-block__item"}),Object(i.jsx)("li",{className:"user-block__item",children:Object(i.jsx)(o.a,{to:"/login",className:"user-block__link",children:"Sign in"})})]}):Object(i.jsxs)("ul",{className:"user-block",children:[Object(i.jsx)("li",{className:"user-block__item",children:Object(i.jsx)("div",{className:"user-block__avatar",children:Object(i.jsx)(o.a,{to:"/myList",children:Object(i.jsx)("img",{src:"img/avatar.jpg",alt:"User avatar",width:"63",height:"63"})})})}),Object(i.jsx)("li",{className:"user-block__item",children:Object(i.jsx)("a",{className:"user-block__link",onClick:n,children:"Sign out"})})]})}));var nt=function(){return Object(i.jsx)("div",{className:"logo",children:Object(i.jsxs)(o.a,{to:"/",className:"logo__link logo__link--light","data-testid":"footer-logo-link",children:[Object(i.jsx)("span",{className:"logo__letter logo__letter--1",children:"W"}),Object(i.jsx)("span",{className:"logo__letter logo__letter--2",children:"T"}),Object(i.jsx)("span",{className:"logo__letter logo__letter--3",children:"W"})]})})};var ct=function(){return Object(i.jsxs)("footer",{className:"page-footer",children:[Object(i.jsx)(nt,{}),Object(i.jsx)("div",{className:"copyright",children:Object(i.jsx)("p",{children:"\xa9 2019 What to watch Ltd."})})]})};var st=Object(d.b)((function(e){return{currentGenre:Fe(e),uniqueGenres:We(e)}}),(function(e){return{onFilterClick:function(t){var r;t.preventDefault(),t.target.matches("a")&&e((r=t.target.textContent,{type:ee,payload:r}))}}}))((function(e){var t=e.currentGenre,r=e.uniqueGenres,a=e.onFilterClick;return Object(i.jsx)("ul",{className:"catalog__genres-list",onClick:a,children:r.map((function(e){return Object(i.jsx)("li",{className:"catalog__genres-item ".concat(t===e?"catalog__genres-item--active":""),"data-testid":"unique-genre",children:Object(i.jsx)("a",{href:"#",className:"catalog__genres-link",children:e})},e)}))})})),it=r(3),lt=r.n(it),ot=(lt.a.shape({backgroundColor:lt.a.string,backgroundImage:lt.a.string,description:lt.a.string,director:lt.a.string,genre:lt.a.string,id:lt.a.number,isFavorite:lt.a.bool,name:lt.a.string,posterImage:lt.a.string,previewImage:lt.a.string,previewVideoLink:lt.a.string,rating:lt.a.number,released:lt.a.number,runTime:lt.a.number,scoresCount:lt.a.number,starring:lt.a.arrayOf(lt.a.string),videoLink:lt.a.string}),r(8));var ut=Object(d.b)((function(e,t){var r=t.movieID;return{movieByID:Ge(e,r)}}))((function(e){var t=e.movieID,r=e.movieByID,a=e.isPlaying,n=e.handleMouseOver,c=e.handleMouseLeave,s=r.name,l=r.previewImage,u=r.previewVideoLink;return Object(i.jsx)("article",{className:"small-film-card catalog__films-card",onMouseOver:function(){return n(r)},onMouseLeave:function(){return c()},"data-testid":"film-card-in-movie-list",children:a?Object(i.jsx)(o.a,{to:"/films/".concat(t),children:Object(i.jsx)("video",{src:u,width:"280",height:"175",muted:!0,autoPlay:!0})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o.a,{to:"/films/".concat(t),children:Object(i.jsx)("div",{className:"small-film-card__image",children:Object(i.jsx)("img",{src:l,alt:s,width:"280",height:"175"})})}),Object(i.jsx)("h3",{className:"small-film-card__title",children:Object(i.jsx)(o.a,{className:"small-film-card__link",to:"/films/".concat(t),children:s})})]})})}));var dt=Object(d.b)((function(e){return{currentGenre:Fe(e)}}))((function(e){var t=e.movies,r=e.currentGenre,n=Object(a.useState)(null),c=Object(ot.a)(n,2),s=c[0],l=c[1],o=Object(a.useState)(!1),u=Object(ot.a)(o,2),d=u[0],j=u[1],m=Object(a.useState)(8),b=Object(ot.a)(m,2),v=b[0],f=b[1],h=Object(a.useRef)(!0),O=Object(a.useCallback)((function(e){l(e.id)}),[]),x=Object(a.useCallback)((function(){l(null)}),[]);return Object(a.useEffect)((function(){if(h.current)h.current=!1;else if(s){var e=setTimeout((function(){return j(!0)}),1e3);return function(){j(!1),clearTimeout(e)}}}),[s]),Object(a.useEffect)((function(){f(8)}),[r]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"catalog__films-list","data-testid":"movie-list-catalog",children:t.slice(0,v).map((function(e){return Object(i.jsx)(ut,{movieID:e.id,isPlaying:d&&s===e.id,handleMouseOver:O,handleMouseLeave:x},e.id)}))}),v<t.length&&Object(i.jsx)("div",{className:"catalog__more",children:Object(i.jsx)("button",{className:"catalog__button",type:"button",onClick:function(){f(v+8)},children:"Show more"})})]})}));var jt=Object(d.b)((function(e){return{moviesByGenre:Ve(e)}}))((function(e){var t=e.moviesByGenre;return Object(i.jsx)(dt,{movies:t})}));var mt=Object(d.b)(null,(function(e){return{onMainClick:function(){e({type:fe})}}}))((function(e){var t=e.onMainClick;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:"404. Page Not Found"}),Object(i.jsx)("p",{children:"If you entered a web address please check if it was correct. If you are certain that it was correct there might be some server maintenance going on right now."}),Object(i.jsx)(o.a,{to:"/",onClick:t,children:"Try to go to main page!"})]})}));var bt=Object(d.b)((function(e){return{promoMovieRequestResult:Ee(e),moviesRequestResult:ze(e),id:Le(e),name:Pe(e),genre:De(e),released:Be(e),backgroundImage:Ie(e),posterImage:Te(e),isFavorite:rt(e,Le(e)),authorizationStatus:$e(e)}}),(function(e){return{onMyListClick:function(t,r){e(ke(t,r))},onMainPageComponentLayoutRendered:function(){e(Me())}}}))((function(e){var t=e.promoMovieRequestResult,r=e.moviesRequestResult,c=e.id,s=e.name,d=e.genre,j=e.released,m=e.backgroundImage,b=e.posterImage,v=e.isFavorite,f=e.onMyListClick,h=e.authorizationStatus,O=e.onMainPageComponentLayoutRendered;return Object(a.useEffect)((function(){h===V&&O()}),[h]),t===z||r===z?Object(i.jsx)(mt,{}):Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("section",{className:"film-card",children:[Object(i.jsx)("div",{className:"film-card__bg",children:Object(i.jsx)("img",{src:m,alt:s})}),Object(i.jsx)("h1",{className:"visually-hidden",children:"WTW"}),Object(i.jsxs)("header",{className:"page-header film-card__head",children:[Object(i.jsx)(u,{}),Object(i.jsx)(at,{})]}),Object(i.jsx)("div",{className:"film-card__wrap",children:Object(i.jsxs)("div",{className:"film-card__info",children:[Object(i.jsx)("div",{className:"film-card__poster",children:Object(i.jsx)("img",{src:b,alt:s,width:"218",height:"327"})}),Object(i.jsxs)("div",{className:"film-card__desc",children:[Object(i.jsx)("h2",{className:"film-card__title",children:s}),Object(i.jsxs)("p",{className:"film-card__meta",children:[Object(i.jsx)("span",{className:"film-card__genre",children:d}),Object(i.jsx)("span",{className:"film-card__year",children:j})]}),Object(i.jsxs)("div",{className:"film-card__buttons",children:[Object(i.jsxs)(o.a,{className:"btn btn--play film-card__button",to:"/player/".concat(c),children:[Object(i.jsx)("svg",{viewBox:"0 0 19 19",width:"19",height:"19",children:Object(i.jsx)("use",{xlinkHref:"#play-s"})}),Object(i.jsx)("span",{children:"Play"})]}),h===V&&Object(i.jsxs)("button",{className:"btn btn--list film-card__button",type:"button",onClick:function(){return f(c,v?B:D)},children:[v?Object(i.jsx)("svg",{viewBox:"0 0 18 14",width:"18",height:"14",children:Object(i.jsx)("use",{xlinkHref:"#in-list"})}):Object(i.jsx)("svg",{viewBox:"0 0 19 20",width:"19",height:"20",children:Object(i.jsx)("use",{xlinkHref:"#add"})}),Object(i.jsx)("span",{children:"My list"})]})]})]})]})})]}),Object(i.jsxs)("div",{className:"page-content",children:[Object(i.jsxs)("section",{className:"catalog",children:[Object(i.jsx)("h2",{className:"catalog__title visually-hidden",children:"Catalog"}),Object(i.jsx)(st,{}),Object(i.jsx)(jt,{})]}),Object(i.jsx)(ct,{})]})]})})),vt=Object(a.memo)(bt),ft=r(7);var ht=function(e){var t=e.message;t.includes("400")&&(t=Y);var r=Object(a.useState)(!1),n=Object(ot.a)(r,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){s(!0);var e=setTimeout((function(){return s(!1)}),3e4);return clearTimeout(e)}),[]),Object(i.jsx)("div",{children:c&&Object(i.jsx)("p",{children:t})})};var Ot=Object(d.b)((function(e){return{authorizationStatus:$e(e)}}),(function(e){return{onSubmit:function(t){e(function(e){var t=e.email,r=e.password;return function(e,a,n){return n.post(K,{email:t,password:r}).then((function(e){var t=e.data;return localStorage.setItem("token",t.token)})).then((function(){return e(Ne(V))})).then((function(){return e(ye(m))}))}}(t))}}}))((function(e){var t=e.onSubmit,r=e.authorizationStatus,c=Object(a.useState)(!1),s=Object(ot.a)(c,2),o=s[0],d=s[1],j=Object(a.useRef)(),b=Object(a.useRef)();return r===V?Object(i.jsx)(ft.a,{to:m}):Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("div",{className:"user-page",children:[Object(i.jsxs)("header",{className:"page-header user-page__head",children:[Object(i.jsx)(u,{}),Object(i.jsx)("h1",{className:"page-title user-page__title",children:"Sign in"})]}),Object(i.jsxs)("div",{className:"sign-in user-page__content",children:[Object(i.jsxs)("form",{action:"#",className:"sign-in__form",onSubmit:function(e){e.preventDefault(),b.current.value.replaceAll(" ","").length>0?t({email:j.current.value,password:b.current.value}):d(!0)},children:[Object(i.jsxs)("div",{className:"sign-in__fields",children:[Object(i.jsxs)("div",{className:"sign-in__field",children:[Object(i.jsx)("input",{ref:j,className:"sign-in__input",type:"email",placeholder:"Email address",name:"user-email",id:"user-email","data-testid":"email-input"}),Object(i.jsx)("label",{className:"sign-in__label visually-hidden",htmlFor:"user-email",children:"Email address"})]}),Object(i.jsxs)("div",{className:"sign-in__field",children:[Object(i.jsx)("input",{ref:b,className:"sign-in__input",type:"password",placeholder:"Password",name:"user-password",id:"user-password","data-testid":"password-input"}),Object(i.jsx)("label",{className:"sign-in__label visually-hidden",htmlFor:"user-password",children:"Password"})]})]}),Object(i.jsx)("div",{className:"sign-in__submit",children:Object(i.jsx)("button",{className:"sign-in__btn",type:"submit",children:"Sign in"})})]}),o&&Object(i.jsx)(ht,{message:Q})]}),Object(i.jsx)(ct,{})]})]})}));var xt=Object(d.b)((function(e){return{favoriteMovies:et(e),favoriteMovieRequestResult:tt(e)}}))((function(e){var t=e.favoriteMovies;return e.favoriteMovieRequestResult===z?Object(i.jsx)(mt,{}):Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("div",{className:"user-page",children:[Object(i.jsxs)("header",{className:"page-header user-page__head",children:[Object(i.jsx)(u,{}),Object(i.jsx)("h1",{className:"page-title user-page__title",children:"My list"}),Object(i.jsx)(at,{})]}),Object(i.jsxs)("section",{className:"catalog","data-testid":"movie-list",children:[Object(i.jsx)("h2",{className:"catalog__title visually-hidden",children:"Catalog"}),Object(i.jsx)(dt,{movies:t})]}),Object(i.jsx)(ct,{})]})]})}));r(48);var gt=function(){return Object(i.jsxs)("div",{className:"lds-spinner","data-testid":"loading-spinner",children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{}),Object(i.jsx)("div",{})]})};function _t(e){var t=e.rating;return t>=y&&t<w?x:t>=M&&t<k?g:t>=S&&t<R?_:t>=q&&t<C?p:t===F?N:void 0}var pt=function(e){var t=e.movie,r=t.rating,a=t.scoresCount,n=t.description,c=t.director,s=t.starring;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"film-rating",children:[Object(i.jsx)("div",{className:"film-rating__score",children:r}),Object(i.jsxs)("p",{className:"film-rating__meta",children:[Object(i.jsx)("span",{className:"film-rating__level",children:_t(t)}),Object(i.jsxs)("span",{className:"film-rating__count",children:[a," ",a>1?"ratings":"rating"]})]})]}),Object(i.jsxs)("div",{className:"film-card__text",children:[Object(i.jsx)("p",{children:n}),Object(i.jsx)("p",{className:"film-card__director",children:Object(i.jsxs)("strong",{children:["Director: ",c]})}),Object(i.jsx)("p",{className:"film-card__starring",children:Object(i.jsxs)("strong",{children:["Starring: ",s.join(", ")," and other"]})})]})]})},Nt=function(e){var t=Math.floor(e/60),r=e-60*t;return"".concat(t,"h ").concat(r,"m")},yt=function(e){var t=new Date(e);return"".concat(t.toLocaleString("en-US",{month:"long"})," ").concat(t.getDay(),", ").concat(t.getFullYear())};var wt=function(e){var t=e.movie,r=t.director,a=t.starring,n=t.runTime,c=t.genre,s=t.released;return Object(i.jsxs)("div",{className:"film-card__text film-card__row",children:[Object(i.jsxs)("div",{className:"film-card__text-col",children:[Object(i.jsxs)("p",{className:"film-card__details-item",children:[Object(i.jsx)("strong",{className:"film-card__details-name",children:"Director"}),Object(i.jsx)("span",{className:"film-card__details-value",children:r})]}),Object(i.jsxs)("p",{className:"film-card__details-item",children:[Object(i.jsx)("strong",{className:"film-card__details-name",children:"Starring"}),Object(i.jsx)("span",{className:"film-card__details-value",children:a.join(", ")})]})]}),Object(i.jsxs)("div",{className:"film-card__text-col",children:[Object(i.jsxs)("p",{className:"film-card__details-item",children:[Object(i.jsx)("strong",{className:"film-card__details-name",children:"Run Time"}),Object(i.jsx)("span",{className:"film-card__details-value",children:Nt(n)})]}),Object(i.jsxs)("p",{className:"film-card__details-item",children:[Object(i.jsx)("strong",{className:"film-card__details-name",children:"Genre"}),Object(i.jsx)("span",{className:"film-card__details-value",children:c})]}),Object(i.jsxs)("p",{className:"film-card__details-item",children:[Object(i.jsx)("strong",{className:"film-card__details-name",children:"Released"}),Object(i.jsx)("span",{className:"film-card__details-value",children:s})]})]})]})};lt.a.shape({id:lt.a.number,user:lt.a.shape({id:lt.a.number,name:lt.a.string}),rating:lt.a.number,comment:lt.a.string,date:lt.a.string});var Mt=function(e){var t=e.review,r=t.comment,a=t.rating,n=t.user.name,c=t.date;return Object(i.jsxs)("div",{className:"review",children:[Object(i.jsxs)("blockquote",{className:"review__quote",children:[Object(i.jsx)("p",{className:"review__text",children:r}),Object(i.jsxs)("footer",{className:"review__details",children:[Object(i.jsx)("cite",{className:"review__author",children:n}),Object(i.jsx)("time",{className:"review__date",dateTime:c,children:yt(c)})]})]}),Object(i.jsx)("div",{className:"review__rating",children:a})]})};var kt=function(e){var t=e.reviews,r=t.slice(0,Math.round(t.length/2)),a=t.slice(Math.round(t.length/2));return Object(i.jsxs)("div",{className:"film-card__reviews film-card__row","data-testid":"reviews-tab-content",children:[Object(i.jsx)("div",{className:"film-card__reviews-col",children:r.map((function(e){return Object(i.jsx)(Mt,{review:e},e.id)}))}),Object(i.jsx)("div",{className:"film-card__reviews-col",children:a.map((function(e){return Object(i.jsx)(Mt,{review:e},e.id)}))})]})},St="Overview",Rt="Details",qt="Reviews";function Ct(e,t,r){switch(e){case St:return Object(i.jsx)(pt,{movie:t});case Rt:return Object(i.jsx)(wt,{movie:t});case qt:return Object(i.jsx)(kt,{reviews:r})}}var Ft=Object(d.b)((function(e){return{currentMovie:Ae(e),currentComments:Ye(e)}}))((function(e){var t=e.currentMovie,r=e.currentComments,n=Object(a.useState)(St),c=Object(ot.a)(n,2),s=c[0],l=c[1];return Object(i.jsxs)("div",{className:"film-card__desc",children:[Object(i.jsx)("nav",{className:"film-nav film-card__nav",children:Object(i.jsxs)("ul",{className:"film-nav__list",onClick:function(e){if(e.preventDefault(),e.target.matches("a"))switch(e.target.textContent){case St:l(St);break;case Rt:l(Rt);break;case qt:l(qt)}},children:[Object(i.jsx)("li",{className:"film-nav__item ".concat(s===St?"film-nav__item--active":""),children:Object(i.jsx)("a",{href:"#",className:"film-nav__link",children:"Overview"})}),Object(i.jsx)("li",{className:"film-nav__item ".concat(s===Rt?"film-nav__item--active":""),children:Object(i.jsx)("a",{href:"#",className:"film-nav__link",children:"Details"})}),Object(i.jsx)("li",{className:"film-nav__item ".concat(s===qt?"film-nav__item--active":""),children:Object(i.jsx)("a",{href:"#",className:"film-nav__link",children:"Reviews"})})]})}),Ct(s,t,r)]})}));var Et=Object(d.b)((function(e){return{isLoading:Ze(e),loadingResult:Je(e),currentMovie:Ae(e),currentSimilarMovies:Xe(e),authorizationStatus:$e(e),isFavorite:rt(e,Ue(e))}}),(function(e){return{onFilmComponentLayoutRendered:function(t){e(Se(t))},onMyListClick:function(t,r){e(ke(t,r))}}}))((function(e){var t=e.isLoading,r=e.loadingResult,c=e.currentMovie,s=e.currentSimilarMovies,d=e.authorizationStatus,j=e.isFavorite,m=e.onFilmComponentLayoutRendered,b=e.onMyListClick,v=Object(ft.g)().id,f=c.name,h=c.posterImage,O=c.backgroundImage,x=c.genre,g=c.released;return Object(a.useEffect)((function(){c.id!==Number(v)&&t!==T&&r!==z&&m(v)})),t===T?Object(i.jsx)(gt,{}):r===z?Object(i.jsx)(mt,{}):Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("section",{className:"film-card film-card--full",children:[Object(i.jsxs)("div",{className:"film-card__hero",children:[Object(i.jsx)("div",{className:"film-card__bg",children:Object(i.jsx)("img",{src:O,alt:f})}),Object(i.jsx)("h1",{className:"visually-hidden",children:"WTW"}),Object(i.jsxs)("header",{className:"page-header film-card__head",children:[Object(i.jsx)(u,{}),Object(i.jsx)(at,{})]}),Object(i.jsx)("div",{className:"film-card__wrap",children:Object(i.jsxs)("div",{className:"film-card__desc",children:[Object(i.jsx)("h2",{className:"film-card__title",children:f}),Object(i.jsxs)("p",{className:"film-card__meta",children:[Object(i.jsx)("span",{className:"film-card__genre",children:x}),Object(i.jsx)("span",{className:"film-card__year",children:g})]}),Object(i.jsxs)("div",{className:"film-card__buttons",children:[Object(i.jsxs)(o.a,{className:"btn btn--play film-card__button",to:"/player/".concat(v),children:[Object(i.jsx)("svg",{viewBox:"0 0 19 19",width:"19",height:"19",children:Object(i.jsx)("use",{xlinkHref:"#play-s"})}),Object(i.jsx)("span",{children:"Play"})]}),d===V&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("button",{className:"btn btn--list film-card__button",type:"button",onClick:function(){return b(v,j?B:D)},children:[j?Object(i.jsx)("svg",{viewBox:"0 0 18 14",width:"18",height:"14",children:Object(i.jsx)("use",{xlinkHref:"#in-list"})}):Object(i.jsx)("svg",{viewBox:"0 0 19 20",width:"19",height:"20",children:Object(i.jsx)("use",{xlinkHref:"#add"})}),Object(i.jsx)("span",{children:"My list"})]}),Object(i.jsx)(o.a,{to:"/films/".concat(v,"/review"),className:"btn film-card__button",children:"Add review"})]})]})]})})]}),Object(i.jsx)("div",{className:"film-card__wrap film-card__translate-top",children:Object(i.jsxs)("div",{className:"film-card__info",children:[Object(i.jsx)("div",{className:"film-card__poster film-card__poster--big",children:Object(i.jsx)("img",{src:h,alt:"".concat(f," poster"),width:"218",height:"327"})}),Object(i.jsx)(Ft,{})]})})]}),Object(i.jsxs)("div",{className:"page-content",children:[Object(i.jsxs)("section",{className:"catalog catalog--like-this",children:[Object(i.jsx)("h2",{className:"catalog__title",children:"More like this"}),Object(i.jsx)(dt,{movies:s})]}),Object(i.jsx)(ct,{})]})]})}));var Lt=function(e){var t=e.index,r=e.isChecked,a=e.isDisabled;return Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)("input",{className:"rating__input",id:"star-".concat(E-t),type:"radio",name:"rating",value:E-t,defaultChecked:r,disabled:a,"data-testid":"star-".concat(E-t)}),Object(i.jsxs)("label",{className:"rating__label",htmlFor:"star-".concat(E-t),children:["Rating ",E-t]})]})},Pt=r(37);var Dt=function(e){var t=e.ratingStars,r=e.handleRatingStarsChange,a=e.isDisabled;return Object(i.jsx)("div",{className:"rating__stars",onChange:r,children:new Array(E).fill("").map((function(e,r){return Object(i.jsx)(Lt,{index:r,isChecked:t===E-r,isDisabled:a},Object(Pt.a)())}))})};var Bt=Object(d.b)((function(e){return{isLoading:Qe(e),movies:He(e),error:Ke(e)}}),(function(e){return{onFormSubmitClick:function(t){e(Re(t))},onPageLeave:function(){e({type:ge})}}}))((function(e){var t=e.isLoading,r=e.onPageLeave,c=e.movies,s=e.error,d=e.onFormSubmitClick,j=Object(ft.g)().id,m=Object(a.useState)(0),b=Object(ot.a)(m,2),v=b[0],f=b[1],h=Object(a.useState)(""),O=Object(ot.a)(h,2),x=O[0],g=O[1],_=Object(a.useState)(!1),p=Object(ot.a)(_,2),N=p[0],y=p[1],w=c.find((function(e){return e.id===Number(j)})),M=w.name,k=w.backgroundImage,S=w.posterImage,R=Object(a.useRef)(!0),q=t===T||0===v||x.length<50||x.length>400;return Object(a.useEffect)((function(){return R.current?R.current=!1:N&&d({id:j,rating:v,comment:x}),function(){y(!1)}})),Object(a.useEffect)((function(){r()}),[]),Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("section",{className:"film-card film-card--full",children:[Object(i.jsxs)("div",{className:"film-card__header",children:[Object(i.jsx)("div",{className:"film-card__bg",children:Object(i.jsx)("img",{src:k,alt:M})}),Object(i.jsx)("h1",{className:"visually-hidden",children:"WTW"}),Object(i.jsxs)("header",{className:"page-header",children:[Object(i.jsx)(u,{}),Object(i.jsx)("nav",{className:"breadcrumbs",children:Object(i.jsxs)("ul",{className:"breadcrumbs__list",children:[Object(i.jsx)("li",{className:"breadcrumbs__item",children:Object(i.jsx)(o.a,{to:"/films/".concat(j),className:"breadcrumbs__link",children:M})}),Object(i.jsx)("li",{className:"breadcrumbs__item",children:Object(i.jsx)("a",{href:"#",className:"breadcrumbs__link",children:"Add review"})})]})}),Object(i.jsx)(at,{})]}),Object(i.jsx)("div",{className:"film-card__poster film-card__poster--small",children:Object(i.jsx)("img",{src:S,alt:M,width:"218",height:"327"})})]}),Object(i.jsxs)("div",{className:"add-review",children:[Object(i.jsxs)("form",{action:"#",className:"add-review__form",onSubmit:function(e){e.preventDefault(),y(!0)},children:[Object(i.jsx)("div",{className:"rating",children:Object(i.jsx)(Dt,{ratingStars:v,handleRatingStarsChange:function(e){e.preventDefault(),f(Number(e.target.value))},isDisabled:t===T})}),Object(i.jsxs)("div",{className:"add-review__text",children:[Object(i.jsx)("textarea",{className:"add-review__textarea",name:"review-text",id:"review-text",placeholder:"Review text",onChange:function(e){e.preventDefault(),g(e.target.value)},value:x,minLength:50,maxLength:400,required:!0,disabled:t===T,"data-testid":"review-text"}),Object(i.jsx)("div",{className:"add-review__submit",children:Object(i.jsx)("button",{className:"add-review__btn",type:"submit",disabled:q,children:"Post"})})]})]}),s&&Object(i.jsx)(ht,{message:s.message})]})]})]})})),It=function(e){var t,r,a,n=Math.floor(-e/P),c=Math.floor((-e-n*P)/60),s=Math.floor(-e-n*P-60*c);return t=n>0&&n<10?"0".concat(n):n>=10?"".concat(n):"",r=c>=0&&c<10?"0".concat(c):"".concat(c),a=s>=0&&s<10?"0".concat(s):"".concat(s),"- ".concat(0===n?"":"".concat(t,":")).concat(r,":").concat(a)};var Tt=Object(d.b)((function(e){return{movies:He(e)}}))((function(e){var t=e.movies,r=e.onExitClick,c=Object(ft.g)().id,s=t.find((function(e){return e.id===Number(c)})),o=s.name,u=s.videoLink,d=s.previewImage,j=Object(a.useState)(!0),m=Object(ot.a)(j,2),b=m[0],v=m[1],f=Object(a.useState)(!1),h=Object(ot.a)(f,2),O=h[0],x=h[1],g=Object(a.useState)(0),_=Object(ot.a)(g,2),p=_[0],N=_[1],y=Object(a.useState)(0),w=Object(ot.a)(y,2),M=w[0],k=w[1],S=Object(a.useState)(!0),R=Object(ot.a)(S,2),q=R[0],C=R[1],F=Object(a.useState)(!1),E=Object(ot.a)(F,2),L=E[0],P=E[1],D=Object(a.useRef)(null),B=Object(a.useRef)(null);return Object(a.useEffect)((function(){return D.current.onloadeddata=function(){D.current.readyState>=3&&v(!1)},D.current.onplay=x(!0),D.current.onpause=x(!1),function(){D.current&&(D.current=null)}}),[u]),Object(a.useEffect)((function(){O?D.current.play():D.current.pause()}),[O]),Object(a.useEffect)((function(){var e;return L&&(window.onmousemove=function(){C(!0),clearTimeout(e),e=setTimeout((function(){return C(!1)}),2e3)}),function(){window.onmousemove=null,clearTimeout(e)}}),[L]),Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("div",{className:"player",ref:B,children:[Object(i.jsx)("video",{ref:D,src:u,className:"player__video",poster:d,onTimeUpdate:function(e){N(100*e.target.currentTime/e.target.duration),k(Math.round(e.target.currentTime-e.target.duration)),100===p&&x(!1)},autoPlay:!0}),q&&Object(i.jsx)("button",{type:"button",className:"player__exit",onClick:function(){x(!1),r()},children:"Exit"}),b&&Object(i.jsx)(gt,{}),q&&Object(i.jsxs)("div",{className:"player__controls",children:[Object(i.jsxs)("div",{className:"player__controls-row",children:[Object(i.jsxs)("div",{className:"player__time",children:[Object(i.jsx)("progress",{className:"player__progress",value:p,max:100}),Object(i.jsx)("div",{className:"player__toggler",style:{left:"".concat(p,"%")},children:"Toggler"})]}),Object(i.jsx)("div",{className:"player__time-value",children:It(M)})]}),Object(i.jsxs)("div",{className:"player__controls-row",children:[Object(i.jsx)("button",{type:"button",className:"player__play",disabled:b,onClick:function(){x(!O)},"data-testid":"play-pause-button",children:O?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("svg",{viewBox:"0 0 14 21",width:"14",height:"21",children:Object(i.jsx)("use",{xlinkHref:"#pause"})}),Object(i.jsx)("span",{children:"Pause"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("svg",{viewBox:"0 0 19 19",width:"19",height:"19",children:Object(i.jsx)("use",{xlinkHref:"#play-s"})}),Object(i.jsx)("span",{children:"Play"})]})}),Object(i.jsx)("div",{className:"player__name",children:o}),Object(i.jsxs)("button",{type:"button",className:"player__full-screen",onClick:function(){var e;(e=B.current).fullscreenElement?document.exitFullscreen?(document.exitFullscreen(),e.fullscreenElement=!1,P(!1),C(!0)):document.webkitCancelFullScreen&&(document.webkitCancelFullScreen(),e.fullscreenElement=!1,P(!1),C(!0)):e.requestFullscreen?(e.requestFullscreen(),e.fullscreenElement=!0,P(!0),C(!1)):e.webkitRequestFullScreen&&(e.webkitRequestFullScreen(),e.fullscreenElement=!0,P(!0),C(!1))},children:[Object(i.jsx)("svg",{viewBox:"0 0 27 27",width:"27",height:"27",children:Object(i.jsx)("use",{xlinkHref:"#full-screen"})}),Object(i.jsx)("span",{children:"Full screen"})]})]})]})]})]})}));var Ht=Object(d.b)((function(e){return{authorizationStatus:$e(e)}}))((function(e){var t=e.path,r=e.exact,a=e.render,n=e.authorizationStatus;return Object(i.jsx)(ft.b,{path:t,exact:r,render:function(e){return n===V?a(e):Object(i.jsx)(ft.a,{to:j})}})}));var zt,Vt=Object(d.b)((function(e){return{isLoading:ze(e)}}))((function(e){return e.isLoading===T?Object(i.jsx)(gt,{}):Object(i.jsxs)(ft.d,{children:[Object(i.jsx)(ft.b,{exact:!0,path:j,children:Object(i.jsx)(Ot,{})}),Object(i.jsx)(ft.b,{exact:!0,path:m,children:Object(i.jsx)(vt,{})}),Object(i.jsx)(Ht,{exact:!0,path:b,render:function(){return Object(i.jsx)(xt,{})}}),Object(i.jsx)(ft.b,{exact:!0,path:f,children:Object(i.jsx)(Et,{})}),Object(i.jsx)(Ht,{exact:!0,path:h,render:function(e){var t=e.history;return Object(i.jsx)(Bt,{onFormSubmitClick:function(e){return t.push("".concat(v,"/").concat(e))}})}}),Object(i.jsx)(ft.b,{exact:!0,path:O,render:function(e){var t=e.history;return Object(i.jsx)(Tt,{onExitClick:function(){return t.push(m)}})}}),Object(i.jsx)(ft.b,{children:Object(i.jsx)(mt,{})})]})})),Wt=r(14),Gt={currentGenre:"All genres"},At={requestStatus:I,requestResult:null,movies:[],error:null},Ut={currentMovieRequestStatus:I,currentMovieRequestResult:null,currentMovie:{starring:[]},currentSimilarMovies:[],currentComments:[],currentMovieError:null,commentPostRequestStatus:I,commentPostRequestResult:null,commentPostError:null},Zt={status:G},Jt={requestStatus:I,requestResult:null,promoMovie:{},error:null},Kt={requestStatus:I,requestResult:null,favoriteMovies:[],error:null,favoriteMovieRequestStatus:I,favoriteMovieRequestResult:null,favoriteMovieError:null},Xt=Object(Wt.combineReducers)({filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object($.a)(Object($.a)({},e),{},{currentGenre:t.payload});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object($.a)(Object($.a)({},e),{},{requestStatus:T});case re:return Object($.a)(Object($.a)({},e),{},{requestStatus:I,requestResult:H,movies:t.payload});case ae:return Object($.a)(Object($.a)({},e),{},{requestStatus:I,requestResult:z,error:t.payload});default:return e}},favoriteMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object($.a)(Object($.a)({},e),{},{requestStatus:T});case ce:return Object($.a)(Object($.a)({},e),{},{requestStatus:I,requestResult:H,favoriteMovies:t.payload});case se:return Object($.a)(Object($.a)({},e),{},{requestStatus:I,requestResult:z,error:t.payload});case ie:return Object($.a)(Object($.a)({},e),{},{favoriteMovieRequestStatus:T});case le:return t.payload.isFavorite?Object($.a)(Object($.a)({},e),{},{favoriteMovieRequestStatus:I,favoriteMovieRequestResult:H,favoriteMovies:[].concat(Object(qe.a)(e.favoriteMovies),[t.payload])}):Object($.a)(Object($.a)({},e),{},{favoriteMovieRequestStatus:I,favoriteMovieRequestResult:H,favoriteMovies:e.favoriteMovies.filter((function(e){return e.id!==t.payload.id}))});case oe:return Object($.a)(Object($.a)({},e),{},{favoriteMovieRequestStatus:I,favoriteMovieRequestResult:z,favoriteMovieError:t.payload});default:return e}},promoMovie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object($.a)(Object($.a)({},e),{},{requestStatus:T});case de:return Object($.a)(Object($.a)({},e),{},{requestStatus:I,requestResult:H,promoMovie:t.payload});case je:return Object($.a)(Object($.a)({},e),{},{requestStatus:I,requestResult:z,error:t.payload});default:return e}},currentMovie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object($.a)(Object($.a)({},e),{},{currentMovieRequestStatus:T,currentMovieRequestResult:null,currentMovieError:null});case be:return Object($.a)(Object($.a)({},e),{},{currentMovieRequestStatus:I,currentMovieRequestResult:H,currentMovie:we(t.payload[0]),currentSimilarMovies:t.payload[1].map((function(e){return we(e)})),currentComments:t.payload[2]});case ve:return Object($.a)(Object($.a)({},e),{},{currentMovieRequestStatus:I,currentMovieRequestResult:z,currentMovieError:t.payload});case fe:return Object($.a)(Object($.a)({},e),{},{currentMovieRequestResult:null,currentMovieError:null});case he:return Object($.a)(Object($.a)({},e),{},{commentPostRequestStatus:T,commentPostRequestResult:null,commentPostError:null});case Oe:return Object($.a)(Object($.a)({},e),{},{commentPostRequestStatus:I,commentPostRequestResult:H,currentComments:t.payload,commentPostError:null});case xe:return Object($.a)(Object($.a)({},e),{},{commentPostRequestStatus:I,commentPostRequestResult:z,commentPostError:t.payload});case ge:return Object($.a)(Object($.a)({},e),{},{commentPostRequestResult:null,commentPostError:null});default:return e}},authorizationStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object($.a)(Object($.a)({},e),{},{status:t.payload});default:return e}}}),Yt=r(34),Qt=r(35),$t=r(36),er=r.n($t),tr=401,rr=null!==(zt=localStorage.getItem("token"))&&void 0!==zt?zt:"",ar=r(10),nr=Object(ar.a)(),cr=function(e){var t=er.a.create({baseURL:"https://7.react.pages.academy/wtw",timeout:5e3,headers:{"x-token":rr}});return t.interceptors.request.use((function(e){var t;return e.headers["x-token"]=null!==(t=localStorage.getItem("token"))&&void 0!==t?t:"",e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e}),(function(t){throw t.response.status===tr&&e(),t})),t}((function(){return sr.dispatch(Ne(W))})),sr=Object(Wt.createStore)(Xt,Object(Yt.composeWithDevTools)(Object(Wt.applyMiddleware)(Qt.a.withExtraArgument(cr),(function(e){return function(e){return function(t){t.type===pe&&nr.push(t.payload),e(t)}}}))));sr.dispatch((function(e,t,r){return r.get(K).then((function(){return e(Ne(V))})).catch((function(){}))})),sr.dispatch((function(e,t,r){return e({type:te}),r.get(A).then((function(t){var r,a=t.data;return e((r=a.map((function(e){return we(e)})),{type:re,payload:r}))})).catch((function(t){return e((r=t.message,{type:ae,payload:r}));var r}))})),sr.dispatch((function(e,t,r){return e({type:ue}),r.get(U).then((function(t){var r,a=t.data;return e((r=we(a),{type:de,payload:r}))})).catch((function(t){return e({type:je,payload:t})}))})),s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(d.a,{store:sr,children:Object(i.jsx)(ft.c,{history:nr,children:Object(i.jsx)(Vt,{})})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.6799fe8f.chunk.js.map